@if (isLoading) {
<section>
    <p>Registrando toma...</p>
    <app-loading-spinner></app-loading-spinner>
</section>
} @else {
<form [formGroup]="registerForm" (ngSubmit)="onRegisterGlucometria()">
    <h2>FORMULARIO INSERCIÓN TOMA GLUCOMETRÍA</h2>
    <section class="form-first-row">
        <fieldset class="form-speciality-data">
            <legend>Toma</legend>
            <article class="medicion-field">
                <label for="medicion">Medición</label>
                <input type="number" id="medicion" formControlName="medicion" [ngClass]="{'invalid':
                       registerForm.get('medicion').invalid && sendedAttempt }">
            </article>
        </fieldset>
    </section>
    @if (registerForm.invalid && sendedAttempt) {
    <section class="error-message">
        <h3>Por favor, cumple con los requisitos de los campos</h3>
        <ul>
            @if (registerForm.get('medicion').invalid) {
            <li>
                <strong>Medición:</strong>El nivel de glucosa en sangre no puede ser negativo y tiene que ser un valor entre 2 a 3 dígitos.
            </li>
            }
        </ul>
    </section>
    } @else if (errores.length > 0) {
    <p class="error-message" *ngFor="let error of errores">{{ error }}</p>
    }
    <section class="btn-section">
        <button type="submit">Subir</button>
        <button type="button" class="btn-cancel" (click)="onCancel()">Cancelar</button>
    </section>
</form>
}